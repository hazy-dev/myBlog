<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.study.blog.mapper.PofolMapper">
	
	<select id="portfolio_list_cnt" resultType="int" parameterType="hashmap">
    
    	SELECT COUNT(*) FROM REFERENCE_BOARD WHERE CATEGORY = 1 AND DEL_YN = 'N' 
    	<if test="authGroup > 1">
    		AND TABLE_AUTH = 2
    	</if>
    	
    </select>
    
    <select id="portfolioList" resultType="Post" parameterType="hashmap">
	
		SELECT CATEGORY, SUBJECT, FILENAME, MEMO, UPLOAD_DATE FROM REFERENCE_BOARD 
		WHERE CATEGORY = 1 AND DEL_YN = 'N'
		<if test="authGroup > 1">
    		AND TABLE_AUTH = 2
    	</if>
		ORDER BY UPLOAD_DATE DESC 
		LIMIT #{startIndex} , #{endIndex}
	
	</select>
	
	<select id="post_list_cnt" resultType="int" parameterType="hashmap">
    
    	SELECT COUNT(*) FROM REFERENCE_BOARD WHERE CATEGORY = 2 AND DEL_YN = 'N'  
		<if test="authGroup > 1">
    		AND TABLE_AUTH = 2
    	</if>
    
    </select>
	
	<select id="postList" resultType="Post" parameterType="hashmap">
	
		SELECT IDX, CATEGORY, SUBJECT, FILENAME, MEMO, UPLOAD_DATE FROM REFERENCE_BOARD 
		WHERE CATEGORY = 2 AND DEL_YN = 'N'
		<if test="authGroup > 1">
    		AND TABLE_AUTH = 2
    	</if>
		ORDER BY UPLOAD_DATE DESC 
		LIMIT #{startIndex} , #{endIndex}
	
	</select>
		
</mapper>